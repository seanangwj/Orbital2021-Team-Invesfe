{"ast":null,"code":"var _jsxFileName = \"/Users/seanang/Orbital2021-Team-Invesfe/src/budgetTracker/ExpenseList.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useState, useEffect } from 'react';\nimport ExpenseItem from './ExpenseItem';\nimport { AppContext } from './AppContext';\nimport { db, fire } from \"../config/Firebase.js\";\nimport { UserContext } from \"../components/UserContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst ExpenseList = () => {\n  _s();\n\n  const {\n    expenses\n  } = useContext(AppContext);\n  const [state, setState] = useState(expenses); // const currentUser = useContext(UserContext);\n\n  useEffect(() => {\n    if (currentUser != null) {\n      db.child(\"users\").child(currentUser.uid).child(\"budget\").child(\"budgettracker\").child(\"expenseTotal\").on(\"value\", snapshot => {\n        const array = snapshot.val();\n        setState(array);\n      });\n    }\n  }, []);\n  const [filteredExpenses, setfilteredExpenses] = useState(expenses || []);\n  useEffect(() => {\n    setfilteredExpenses(expenses);\n  }, [expenses]);\n\n  const handleChange = event => {\n    const searchResults = expenses.filter(filteredExpense => filteredExpense.name.toLowerCase().includes(event.target.value));\n    setfilteredExpenses(searchResults); // updateExpenses();\n  }; // const updateExpenses = () => {\n  // \tif (currentUser != null) {\n  // \t\tdb.child(\"users\")\n  // \t\t  .child(currentUser.uid)\n  // \t\t  .child(\"budget\")\n  // \t\t  .child(\"budgettracker\")\n  // \t\t  .child(\"expenseList\")\n  // \t\t  .set(state)\n  // \t}\n  // }\n  // useEffect(() => {\n  // \tif (currentUser != null) {\n  // \t  db.child(\"users\")\n  // \t\t.child(currentUser.uid)\n  // \t\t.child(\"budget\")\n  // \t\t.child(\"budgettracker\")\n  // \t\t.child(\"expenseList\")\n  // \t\t.on(\"value\", (snapshot) => {\n  // \t\tconst array = snapshot.val();\n  // \t\tsetState(array);\n  // \t});\n  //   }}, []);\n\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      class: \"form-control mb-2 mr-sm-2\",\n      placeholder: \"Type to search...\",\n      onChange: handleChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      class: \"list-group mt-3 mb-3\",\n      children: filteredExpenses.map(expense => /*#__PURE__*/_jsxDEV(ExpenseItem, {\n        id: expense.id,\n        name: expense.name,\n        cost: expense.cost\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 6\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true);\n};\n\n_s(ExpenseList, \"t/OFVPZSZzOIPqS0/yRGe92lZ6g=\");\n\n_c = ExpenseList;\nexport default ExpenseList;\n\nvar _c;\n\n$RefreshReg$(_c, \"ExpenseList\");","map":{"version":3,"sources":["/Users/seanang/Orbital2021-Team-Invesfe/src/budgetTracker/ExpenseList.js"],"names":["React","useContext","useState","useEffect","ExpenseItem","AppContext","db","fire","UserContext","ExpenseList","expenses","state","setState","currentUser","child","uid","on","snapshot","array","val","filteredExpenses","setfilteredExpenses","handleChange","event","searchResults","filter","filteredExpense","name","toLowerCase","includes","target","value","map","expense","id","cost"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,QAA5B,EAAsCC,SAAtC,QAAuD,OAAvD;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,SAASC,UAAT,QAA2B,cAA3B;AACA,SAASC,EAAT,EAAaC,IAAb,QAAyB,uBAAzB;AACA,SAASC,WAAT,QAA2B,2BAA3B;;;;AAEA,MAAMC,WAAW,GAAG,MAAM;AAAA;;AACzB,QAAM;AAAEC,IAAAA;AAAF,MAAeT,UAAU,CAACI,UAAD,CAA/B;AACA,QAAK,CAACM,KAAD,EAAQC,QAAR,IAAoBV,QAAQ,CAACQ,QAAD,CAAjC,CAFyB,CAGzB;;AAEAP,EAAAA,SAAS,CAAC,MAAM;AACf,QAAIU,WAAW,IAAI,IAAnB,EAAyB;AACvBP,MAAAA,EAAE,CAACQ,KAAH,CAAS,OAAT,EACAA,KADA,CACMD,WAAW,CAACE,GADlB,EAEAD,KAFA,CAEM,QAFN,EAGAA,KAHA,CAGM,eAHN,EAIAA,KAJA,CAIM,cAJN,EAKAE,EALA,CAKG,OALH,EAKaC,QAAD,IAAc;AAC3B,cAAMC,KAAK,GAAGD,QAAQ,CAACE,GAAT,EAAd;AACAP,QAAAA,QAAQ,CAACM,KAAD,CAAR;AACA,OARC;AASA;AAAC,GAXK,EAWH,EAXG,CAAT;AAeA,QAAM,CAACE,gBAAD,EAAmBC,mBAAnB,IAA0CnB,QAAQ,CAACQ,QAAQ,IAAI,EAAb,CAAxD;AAEAP,EAAAA,SAAS,CAAC,MAAM;AACfkB,IAAAA,mBAAmB,CAACX,QAAD,CAAnB;AACA,GAFQ,EAEN,CAACA,QAAD,CAFM,CAAT;;AAIA,QAAMY,YAAY,GAAIC,KAAD,IAAW;AAC/B,UAAMC,aAAa,GAAGd,QAAQ,CAACe,MAAT,CAAiBC,eAAD,IACrCA,eAAe,CAACC,IAAhB,CAAqBC,WAArB,GAAmCC,QAAnC,CAA4CN,KAAK,CAACO,MAAN,CAAaC,KAAzD,CADqB,CAAtB;AAGAV,IAAAA,mBAAmB,CAACG,aAAD,CAAnB,CAJ+B,CAK/B;AACA,GAND,CA1ByB,CAkCzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA,sBACC;AAAA,4BACC;AACC,MAAA,IAAI,EAAC,MADN;AAEC,MAAA,KAAK,EAAC,2BAFP;AAGC,MAAA,WAAW,EAAC,mBAHb;AAIC,MAAA,QAAQ,EAAEF;AAJX;AAAA;AAAA;AAAA;AAAA,YADD,eAOC;AAAI,MAAA,KAAK,EAAC,sBAAV;AAAA,gBACEF,gBAAgB,CAACY,GAAjB,CAAsBC,OAAD,iBACrB,QAAC,WAAD;AACC,QAAA,EAAE,EAAEA,OAAO,CAACC,EADb;AAEC,QAAA,IAAI,EAAED,OAAO,CAACN,IAFf;AAGC,QAAA,IAAI,EAAEM,OAAO,CAACE;AAHf;AAAA;AAAA;AAAA;AAAA,cADA;AADF;AAAA;AAAA;AAAA;AAAA,YAPD;AAAA,kBADD;AAmBA,CA7ED;;GAAM1B,W;;KAAAA,W;AA+EN,eAAeA,WAAf","sourcesContent":["import React, { useContext, useState, useEffect } from 'react';\nimport ExpenseItem from './ExpenseItem';\nimport { AppContext } from './AppContext';\nimport { db, fire } from \"../config/Firebase.js\";\nimport { UserContext} from \"../components/UserContext\";\n\nconst ExpenseList = () => {\n\tconst { expenses } = useContext(AppContext);\n\tconst[state, setState] = useState(expenses);\n\t// const currentUser = useContext(UserContext);\n\n\tuseEffect(() => {\n\t\tif (currentUser != null) {\n\t\t  db.child(\"users\")\n\t\t\t.child(currentUser.uid)\n\t\t\t.child(\"budget\")\n\t\t\t.child(\"budgettracker\")\n\t\t\t.child(\"expenseTotal\")\n\t\t\t.on(\"value\", (snapshot) => {\n\t\t\tconst array = snapshot.val();\n\t\t\tsetState(array);\n\t\t});\n\t  }}, []);\n\n\t\n\n\tconst [filteredExpenses, setfilteredExpenses] = useState(expenses || []);\n\n\tuseEffect(() => {\n\t\tsetfilteredExpenses(expenses);\n\t}, [expenses]);\n\n\tconst handleChange = (event) => {\n\t\tconst searchResults = expenses.filter((filteredExpense) =>\n\t\t\tfilteredExpense.name.toLowerCase().includes(event.target.value)\n\t\t);\n\t\tsetfilteredExpenses(searchResults);\n\t\t// updateExpenses();\n\t};\n\n\t// const updateExpenses = () => {\n\t// \tif (currentUser != null) {\n\t// \t\tdb.child(\"users\")\n\t// \t\t  .child(currentUser.uid)\n\t// \t\t  .child(\"budget\")\n\t// \t\t  .child(\"budgettracker\")\n\t// \t\t  .child(\"expenseList\")\n\t// \t\t  .set(state)\n\t// \t}\n\t// }\n\n\t// useEffect(() => {\n\t// \tif (currentUser != null) {\n\t// \t  db.child(\"users\")\n\t// \t\t.child(currentUser.uid)\n\t// \t\t.child(\"budget\")\n\t// \t\t.child(\"budgettracker\")\n\t// \t\t.child(\"expenseList\")\n\t// \t\t.on(\"value\", (snapshot) => {\n\t// \t\tconst array = snapshot.val();\n\t// \t\tsetState(array);\n\t// \t});\n\t//   }}, []);\n\n\treturn (\n\t\t<>\n\t\t\t<input\n\t\t\t\ttype='text'\n\t\t\t\tclass='form-control mb-2 mr-sm-2'\n\t\t\t\tplaceholder='Type to search...'\n\t\t\t\tonChange={handleChange}\n\t\t\t/>\n\t\t\t<ul class='list-group mt-3 mb-3'>\n\t\t\t\t{filteredExpenses.map((expense) => (\n\t\t\t\t\t<ExpenseItem\n\t\t\t\t\t\tid={expense.id}\n\t\t\t\t\t\tname={expense.name}\n\t\t\t\t\t\tcost={expense.cost}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\t\t\t</ul>\n\t\t</>\n\t);\n};\n\nexport default ExpenseList;"]},"metadata":{},"sourceType":"module"}